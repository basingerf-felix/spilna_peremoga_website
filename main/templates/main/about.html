{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Про нас — Спільна Перемога" %}{% endblock %}


{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
  <!-- Bootstrap Icons (використовуються у шаблоні) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <!-- Сторінкові стилі -->
  <link rel="stylesheet" href="{% static 'css/main/about.css' %}">
<section class="ab-hero">
  <div class="ab-hero__grid">
    <figure class="ab-hero__media">
      <img src="{% static 'images/about_hero.webp' %}" alt="{% trans 'Команда працює над проєктом' %}">
      <figcaption class="sr-only">{% trans "Команда «Спільна Перемога»" %}</figcaption>
    </figure>

    <div class="ab-hero__pane">
      <div class="ab-eyebrow">{% trans "Про нас" %}</div>
      <h1 class="ab-title">
        <span>{% trans "Ми створюємо" %}</span>
        <span class="accent">{% trans "сенси, які діють" %}</span>
      </h1>
      <p class="ab-lead">
        {% trans "«Спільна Перемога» — це простір, де ініціативи, креатив та продакшн об’єднуються заради вимірюваного суспільного впливу." %}
      </p>

      <ul class="ab-kpis">
        <li><strong data-count="40">0</strong><span>{% trans "проєктів" %}</span></li>
        <li><strong data-count="10">0</strong><span>{% trans "років досвіду" %}</span></li>
        <li><strong data-count="50">0</strong><span>{% trans "партнерів" %}</span></li>
        <li><strong data-count="100">0</strong><span>{% trans "подій" %}</span></li>
      </ul>
    </div>
  </div>
</section>

<section class="ab-tabs">
  <div class="ab-container">
    <div class="ab-tabs__head">
      <div class="ab-eyebrow">{% trans "Хто ми" %}</div>
      <h2 class="ab-h2">
        <span>{% trans "Місія, візія" %}</span>
        <span class="accent">{% trans "та підхід" %}</span>
      </h2>
    </div>

    <div class="tabs" data-tabs>
      <div class="tabs__nav" role="tablist">
        <button class="tabs__btn is-active" role="tab" aria-selected="true" data-tab="mission">{% trans "Місія" %}</button>
        <button class="tabs__btn" role="tab" aria-selected="false" data-tab="vision">{% trans "Візія" %}</button>
        <button class="tabs__btn" role="tab" aria-selected="false" data-tab="approach">{% trans "Підхід" %}</button>
      </div>

      <div class="tabs__panes">
        <div class="tabs__pane is-active" id="mission" role="tabpanel">
          <p>
            {% trans "Мобілізувати спільноту навколо значущих культурних, освітніх, спортивних та громадських ініціатив. Ми перетворюємо ідеї на дії, а дії — на сталі зміни." %}
          </p>
        </div>
        <div class="tabs__pane" id="vision" role="tabpanel" hidden>
          <p>
            {% trans "Україна — країна сильних історій та рішень. Ми прагнемо стати платформою, де народжуються наративи, що визначають завтра." %}
          </p>
        </div>
        <div class="tabs__pane" id="approach" role="tabpanel" hidden>
          <ul class="ab-points">
            <li><i class="bi bi-bullseye"></i> {% trans "Дані → стратегія → креатив → продакшн → вимірювання результатів." %}</li>
            <li><i class="bi bi-people"></i> {% trans "Партнерство і відповідальність: прозорість у комунікації та бюджетуванні." %}</li>
            <li><i class="bi bi-lightning"></i> {% trans "Швидкість і якість: мультидисциплінарні команди під завдання." %}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="ab-timeline">
  <div class="ab-container">
    <div class="ab-eyebrow">{% trans "Історія" %}</div>
    <h2 class="ab-h2"><span>{% trans "Ключові" %}</span> <span class="accent">{% trans "віхи" %}</span></h2>

    <ol class="tl">
      <li class="tl__item">
        <div class="tl__dot"></div>
        <time class="tl__time">2015</time>
        <h3 class="tl__title">{% trans "Старт платформи" %}</h3>
        <p class="tl__text">{% trans "Перші міські культурні події, волонтерські ініціативи, публічна дипломатія." %}</p>
      </li>
      <li class="tl__item">
        <div class="tl__dot"></div>
        <time class="tl__time">2019</time>
        <h3 class="tl__title">{% trans "«Роза вітрів»" %}</h3>
        <p class="tl__text">{% trans "Знаковий міський арт-об’єкт про євроатлантичний вибір України." %}</p>
      </li>
      <li class="tl__item">
        <div class="tl__dot"></div>
        <time class="tl__time">2024</time>
        <h3 class="tl__title">{% trans "«Сквер НАТО»" %}</h3>
        <p class="tl__text">{% trans "Скульптура «Україночка під парасолькою НАТО» і масштабна комунікаційна кампанія." %}</p>
      </li>
      <li class="tl__item">
        <div class="tl__dot"></div>
        <time class="tl__time">2025</time>
        <h3 class="tl__title">{% trans "«БожеВільні»" %}</h3>
        <p class="tl__text">{% trans "Повнометражний фільм про дисидентів: продакшн та медійний вплив." %}</p>
      </li>
    </ol>
  </div>
</section>

<section class="ab-team">
  <div class="ab-container">
    <div class="ab-eyebrow">{% trans "Команда" %}</div>
    <h2 class="ab-h2">
      <span>{% trans "Люди, які" %}</span>
      <span class="accent">{% trans "запускають зміни" %}</span>
    </h2>

    <div class="swiper team-swiper" aria-label="{% trans 'Команда' %}">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <article class="tm-card">
            <figure class="tm-photo">
              <img src="{% static 'images/bulba_vol.webp' %}" alt="{% trans 'Володимир Бульба' %}">
            </figure>
            <div class="tm-body">
              <h3 class="tm-name">Володимир Бульба</h3>
              <p class="tm-role">{% trans "Засновник платформи. Майстер спорту міжнародного класу. Радник Міністра молоді та спорту (2015–2019)." %}</p>
            </div>
          </article>
        </div>

        <div class="swiper-slide">
          <article class="tm-card">
            <figure class="tm-photo">
              <img src="{% static 'images/sokolinskiy_al.webp' %}" alt="{% trans 'Олександр Соколинський' %}">
            </figure>
            <div class="tm-body">
              <h3 class="tm-name">Олександр Соколинський</h3>
              <p class="tm-role">{% trans "Співзасновник. Менеджер спортивно-молодіжних подій, громадський діяч, спортивний директор НКРУ." %}</p>
            </div>
          </article>
        </div>

        <div class="swiper-slide">
          <article class="tm-card">
            <figure class="tm-photo">
              <img src="{% static 'images/ivanenko_val.webp' %}" alt="{% trans 'Валерія Іваненко' %}">
            </figure>
            <div class="tm-body">
              <h3 class="tm-name">Валерія Іваненко</h3>
              <p class="tm-role">{% trans "Директор «Спільна Перемога Продакшн». Продюсер, член спілок кінематографістів та журналістів." %}</p>
            </div>
          </article>
        </div>
      </div>

      <button class="tm-nav tm-prev" aria-label="{% trans 'Попередній' %}"><i class="bi bi-chevron-left"></i></button>
      <button class="tm-nav tm-next" aria-label="{% trans 'Наступний' %}"><i class="bi bi-chevron-right"></i></button>
      <div class="tm-pagination swiper-pagination" aria-hidden="true"></div>
    </div>
  </div>
</section>

<section class="ab-gallery">
  <div class="ab-container">
    <div class="ab-eyebrow">{% trans "Бекстейдж" %}</div>
    <h2 class="ab-h2"><span>{% trans "Процес" %}</span> <span class="accent">{% trans "та люди" %}</span></h2>

    <div class="masonry" data-lightbox>
  {% for file in gallery_images %}
    <a href="{% static 'images/nato_1.jpg' %}{{ file }}" class="masonry__item">
      <img src="{% static 'images/nato_2.jpg' %}{{ file }}" alt="">
    </a>
  {% endfor %}
</div>

  </div>

  <!-- Лайтбокс -->
  <div class="lb" id="ab-lightbox" aria-hidden="true">
    <button class="lb__close" data-lb-close aria-label="{% trans 'Закрити' %}">✕</button>
    <button class="lb__prev" data-lb-prev aria-label="{% trans 'Назад' %}">‹</button>
    <img class="lb__img" alt="">
    <button class="lb__next" data-lb-next aria-label="{% trans 'Вперед' %}">›</button>
    <div class="lb__backdrop" data-lb-close></div>
  </div>
</section>

<section class="ab-testimonials">
  <div class="ab-container">
    <div class="ab-eyebrow">{% trans "Відгуки" %}</div>
    <h2 class="ab-h2"><span>{% trans "Досвід" %}</span> <span class="accent">{% trans "партнерів" %}</span></h2>

    <div class="swiper tst-swiper" aria-label="{% trans 'Відгуки' %}">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <blockquote class="tst">
            <p>“{% trans "Команда швидко перетворює ідеї на зрозумілу стратегію і якісний контент." %}”</p>
            <footer>— {% trans "Партнер проєкту «Сквер НАТО»" %}</footer>
          </blockquote>
        </div>
        <div class="swiper-slide">
          <blockquote class="tst">
            <p>“{% trans "Вони мислять впливом: від сценарію до вимірювання результатів." %}”</p>
            <footer>— {% trans "Представник міжнародної організації" %}</footer>
          </blockquote>
        </div>
        <div class="swiper-slide">
          <blockquote class="tst">
            <p>“{% trans "Прозора співпраця і сильний продакшн — рідкісне поєднання." %}”</p>
            <footer>— {% trans "Куратор культурних проєктів" %}</footer>
          </blockquote>
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<section class="ab-partners">
  <div class="ab-container">
    <div class="ab-eyebrow">{% trans "Партнери" %}</div>
    <h2 class="ab-h2"><span>{% trans "Разом" %}</span> <span class="accent">{% trans "посилюємо вплив" %}</span></h2>

    <div class="ticker" aria-label="{% trans 'Логотипи партнерів' %}">
      <ul class="ticker__track">
        <li class="ticker__item"><img src="{% static 'images/dynamo_map.webp' %}" alt="Dynamo"></li>
        <li class="ticker__item"><img src="{% static 'images/logo_home_uk-ua_white.png' %}" alt="Home UA"></li>
        <li class="ticker__item"><img src="{% static 'images/records_ua.webp' %}" alt="Records UA"></li>
        <li class="ticker__item"><img src="{% static 'images/optima.png' %}" alt="Optima"></li>
        <li class="ticker__item"><img src="{% static 'images/dila.png' %}" alt="Dila"></li>
        <li class="ticker__item"><img src="{% static 'images/logo_uk.svg' %}" alt="UK"></li>
        <li class="ticker__item"><img src="{% static 'images/min_sport.png' %}" alt="MinSport"></li>

        <!-- дубль для безшовного циклу -->
        <li class="ticker__item"><img src="{% static 'images/dynamo_map.webp' %}" alt="Dynamo"></li>
        <li class="ticker__item"><img src="{% static 'images/logo_home_uk-ua_white.png' %}" alt="Home UA"></li>
        <li class="ticker__item"><img src="{% static 'images/records_ua.webp' %}" alt="Records UA"></li>
        <li class="ticker__item"><img src="{% static 'images/optima.png' %}" alt="Optima"></li>
        <li class="ticker__item"><img src="{% static 'images/dila.png' %}" alt="Dila"></li>
        <li class="ticker__item"><img src="{% static 'images/logo_uk.svg' %}" alt="UK"></li>
        <li class="ticker__item"><img src="{% static 'images/min_sport.png' %}" alt="MinSport"></li>
      </ul>
    </div>
  </div>
</section>

<section class="ab-cta">
  <div class="ab-container">
    <div class="ab-cta__box">
      <h2>{% trans "Маєте ідею?" %} <span class="accent">{% trans "Зробімо її гучною" %}</span></h2>
      <p>{% trans "Напишіть нам кілька рядків — повернемося зі стратегією та першим планом дій." %}</p>
      <a href="#contacts" class="ab-btn">{% trans "Зв’язатися" %}</a>
    </div>
  </div>
</section>


  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  <script>
  // KPI counters
(function(){
  const nums = document.querySelectorAll('[data-count]');
  if(!nums.length) return;
  let started = false;
  const run = () => {
    if (started) return;
    started = true;
    nums.forEach(el=>{
      const target = +el.dataset.count;
      const dur = 1200;
      const t0 = performance.now();
      function tick(t){
        const p = Math.min(1,(t - t0)/dur);
        el.textContent = Math.floor(target * (0.1 + 0.9*p));
        if (p<1) requestAnimationFrame(tick);
        else el.textContent = target;
      }
      requestAnimationFrame(tick);
    });
  };
  const io = new IntersectionObserver(entries=>{
    entries.forEach(e=>{ if(e.isIntersecting) { run(); io.disconnect(); }});
  }, {threshold:.3});
  io.observe(nums[0].closest('.ab-hero__pane'));
})();

// Tabs
(function(){
  const root = document.querySelector('[data-tabs]');
  if(!root) return;
  const btns = root.querySelectorAll('.tabs__btn');
  const panes = root.querySelectorAll('.tabs__pane');
  btns.forEach(b=>{
    b.addEventListener('click', ()=>{
      const id = b.dataset.tab;
      btns.forEach(x=>x.classList.toggle('is-active', x===b));
      panes.forEach(p=>{
        const on = p.id === id;
        p.classList.toggle('is-active', on);
        p.toggleAttribute('hidden', !on);
      });
    });
  });
})();

// Team Swiper
new Swiper('.team-swiper', {
  slidesPerView: 3,
  spaceBetween: 20,
  speed: 550,
  loop: true,
  autoplay: { delay: 3500, disableOnInteraction: false, pauseOnMouseEnter: true },
  navigation: { nextEl: '.tm-next', prevEl: '.tm-prev' },
  pagination: { el: '.tm-pagination', clickable: true },
  breakpoints: {
    1: { slidesPerView: 1, spaceBetween: 14 },
    640: { slidesPerView: 2, spaceBetween: 16 },
    1024: { slidesPerView: 3, spaceBetween: 20 }
  }
});

// Testimonials Swiper
new Swiper('.tst-swiper', {
  slidesPerView: 1,
  spaceBetween: 16,
  autoHeight: true,
  loop: true,
  autoplay: { delay: 4200, disableOnInteraction: false },
  pagination: { el: '.ab-testimonials .swiper-pagination', clickable: true },
  breakpoints: {
    768: { slidesPerView: 2 },
    1200: { slidesPerView: 3 }
  }
});

// Lightbox
(function(){
  const grid = document.querySelector('[data-lightbox]');
  const modal = document.getElementById('ab-lightbox');
  if(!grid || !modal) return;

  const imgEl = modal.querySelector('.lb__img');
  const prevBtn = modal.querySelector('[data-lb-prev]');
  const nextBtn = modal.querySelector('[data-lb-next]');
  const closeEls = modal.querySelectorAll('[data-lb-close], .lb__backdrop');
  const items = Array.from(grid.querySelectorAll('a.masonry__item'));
  let idx = 0;

  function open(i){
    idx = i;
    imgEl.src = items[idx].href;
    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden','false');
    document.documentElement.classList.add('no-scroll');
  }
  function close(){
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden','true');
    document.documentElement.classList.remove('no-scroll');
    imgEl.src = '';
  }
  function nav(d){
    idx = (idx + d + items.length) % items.length;
    imgEl.src = items[idx].href;
  }

  items.forEach((a,i)=>{
    a.addEventListener('click', (e)=>{ e.preventDefault(); open(i); });
  });
  prevBtn.addEventListener('click', ()=>nav(-1));
  nextBtn.addEventListener('click', ()=>nav(1));
  closeEls.forEach(el=>el.addEventListener('click', close));
  window.addEventListener('keydown', (e)=>{
    if(!modal.classList.contains('is-open')) return;
    if(e.key==='Escape') close();
    if(e.key==='ArrowLeft') nav(-1);
    if(e.key==='ArrowRight') nav(1);
  });
})();

  </script>



{% endblock %}
